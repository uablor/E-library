{
    "sourceFile": "src/modules/admin/book/views/BookType_Category/Type_Category_Manage.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1747425592003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747425600560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n   </div>\r\n \r\n   <!-- Book Category Form -->\r\n   <div v-else class=\"space-y-6\">\r\n-    <h2 class=\"text-xl md:text-2xl font-bold mb-4 text-gray-500\">ðŸ“‚ Book File Management</h2>\r\n+    <h2 class=\"text-xl md:text-2xl font-bold mb-4 text-gray-500\">ðŸ“‚ Book Category Management</h2>\r\n \r\n     <form @submit.prevent=\"handleSubmit\" class=\"space-y-4 bg-white p-4 rounded shadow\">\r\n       <div>\r\n         <label class=\"block font-medium mb-1\">Name</label>\r\n"
                }
            ],
            "date": 1747425592003,
            "name": "Commit-0",
            "content": "\r\n\r\n<template>\r\n\r\n    <!-- end table -->\r\n      \r\n  <!-- Dropdown -->\r\n  <div class=\"mb-6 text-center md:text-left\">\r\n    <select\r\n      v-model=\"selectedForm\"\r\n      class=\"bg-green-600 text-white px-4 py-2 h-10 focus:outline-none cursor-pointer rounded-lg\"\r\n    >\r\n      <option value=\"all\">Select Book Type or Category</option>\r\n      <option value=\"false\">Book Type</option>\r\n      <option value=\"true\">Book Category</option>\r\n    </select>\r\n  </div>\r\n\r\n  <!-- Book Type Form -->\r\n  <div v-if=\"change_From_caogrory_to_type == false\">\r\n    <h2 class=\"text-xl md:text-2xl font-bold mb-4 text-gray-500\">ðŸ“˜ Book Type</h2>\r\n\r\n    <form @submit.prevent=\"handleSubmit\" class=\"space-y-4 bg-white p-4 rounded shadow\">\r\n      <div>\r\n        <label class=\"block font-medium mb-1\">Name</label>\r\n        <input\r\n          v-model=\"form.name\"\r\n          type=\"text\"\r\n          class=\"w-full border border-gray-300 outline-green-300 p-2 rounded\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"block font-medium mb-1\">Description</label>\r\n        <textarea\r\n          v-model=\"form.description\"\r\n          class=\"w-full border border-gray-300 outline-green-300 p-2 rounded\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0\">\r\n        <button\r\n          type=\"submit\"\r\n          class=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n        >\r\n          {{ form.id ? 'Update' : 'Create' }}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          @click=\"resetForm\"\r\n          class=\"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400\"\r\n        >\r\n          Clear\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <!-- Book Category Form -->\r\n  <div v-else class=\"space-y-6\">\r\n    <h2 class=\"text-xl md:text-2xl font-bold mb-4 text-gray-500\">ðŸ“‚ Book File Management</h2>\r\n\r\n    <form @submit.prevent=\"handleSubmit\" class=\"space-y-4 bg-white p-4 rounded shadow\">\r\n      <div>\r\n        <label class=\"block font-medium mb-1\">Name</label>\r\n        <input\r\n          v-model=\"form.name\"\r\n          type=\"text\"\r\n          class=\"w-full border border-gray-300 outline-green-300 p-2 rounded\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <label class=\"block font-medium mb-1\">Description</label>\r\n        <textarea\r\n          v-model=\"form.description\"\r\n          class=\"w-full border border-gray-300 outline-green-300 p-2 rounded\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col sm:flex-row sm:space-x-2 space-y-2 sm:space-y-0\">\r\n        <button\r\n          type=\"submit\"\r\n          class=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n        >\r\n          {{ form.id ? 'Update' : 'Create' }}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          @click=\"resetForm\"\r\n          class=\"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400\"\r\n        >\r\n          Clear\r\n        </button>\r\n      </div>\r\n    </form>\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, watch } from 'vue'\r\n\r\nconst selectedForm = ref('false') // default to Book Type\r\nconst change_From_caogrory_to_type = ref(false)\r\n\r\nwatch(selectedForm, (newVal) => {\r\n  change_From_caogrory_to_type.value = newVal === 'true'\r\n})\r\ninterface BookData {\r\n  id?: number\r\n  name: string\r\n  description: string\r\n  created_at?: Date\r\n  updated_at?: Date\r\n}\r\n\r\nconst items = ref<BookData[]>([])\r\nconst form = ref<BookData>({\r\n  name: '',\r\n  description: '',\r\n})\r\n\r\nfunction handleSubmit() {\r\n  if (form.value.id != null) {\r\n    // Update\r\n    const index = items.value.findIndex((i) => i.id === form.value.id)\r\n    if (index !== -1) {\r\n      form.value.updated_at = new Date()\r\n      items.value[index] = { ...form.value }\r\n    }\r\n  } else {\r\n    // Create\r\n    const newItem: BookData = {\r\n      ...form.value,\r\n      id: Date.now(),\r\n      created_at: new Date(),\r\n      updated_at: new Date(),\r\n    }\r\n    items.value.push(newItem)\r\n  }\r\n  resetForm()\r\n}\r\n\r\n\r\nfunction resetForm() {\r\n  form.value = {\r\n    name: '',\r\n    description: '',\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n"
        }
    ]
}