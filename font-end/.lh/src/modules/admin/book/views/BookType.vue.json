{
    "sourceFile": "src/modules/admin/book/views/BookType.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 40,
            "patches": [
                {
                    "date": 1748001325088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748013737477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,11 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n+import { useI18n } from 'vue-i18n';\r\n \r\n+const { t } = useI18n();\r\n interface Category {\r\n   id: number\r\n   name: string\r\n   description: string\r\n"
                },
                {
                    "date": 1748013752098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,11 +37,11 @@\n              </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                         <select\r\n                             class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n-                            <option value=\"all\">{{ $t('navbar.all') }}</option>\r\n+                            <option value=\"all\">{{ t('navbar.all') }}</option>\r\n                         </select>\r\n-                        <input type=\"text\" :placeholder=\"$t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n+                        <input type=\"text\" :placeholder=\"t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n                             class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n                     </div>\r\n            </div>\r\n          </div>\r\n"
                },
                {
                    "date": 1748014710297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,38 +3,35 @@\n     <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n       <!-- Title and controls -->\r\n       <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n         <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n-          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n+          <i class=\"fa-solid fa-book\"></i> ຈັດການປະເພດປື້ມ\r\n         </h1>\r\n \r\n         <div >\r\n-\r\n-          \r\n          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n-              \r\n-   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n+           <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ໝວກປື້ມທົ່ວໄປ</option>\r\n+             <option value=\"normal\">ປະເພດປື້ມທົ່ວໄປ</option>\r\n              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n            </select>\r\n            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n                ກູ້ຄືນ\r\n              </button>\r\n \r\n              <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n-               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n+               @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                ແກ້ໄຂ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n-               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n+               @click=\"deleteType\" :disabled=\"!selectedType\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                ລຶບ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n-               ເພີ່ມໝວກໝູ່\r\n+               ເພີ່ມປະເພດປື້ມ\r\n              </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                         <select\r\n                             class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n@@ -60,111 +57,103 @@\n               <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n-              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedCategory?.id === category.id ? 'bg-yellow-100' : '']\">\r\n-              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n+            <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n+              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n+              <td class=\"py-2 px-4\">{{ type.id }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <!-- Modals -->\r\n-  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n-  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n-    @update=\"handleCategoryUpdate\" />\r\n+  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n+  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n+    @update=\"handleTypeUpdate\" />\r\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n+import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n-interface Category {\r\n-  id: number\r\n-  name: string\r\n-  description: string\r\n-  created_at: string\r\n-  updated_at: string\r\n-}\r\n+\r\n const searchQuery = ref('');\r\n const isModalOpen = ref(false)\r\n const isEditModalOpen = ref(false)\r\n-const selectedCategory = ref<Category | null>(null)\r\n+const selectedType = ref<BookType | null>(null)\r\n const viewMode = ref<'normal' | 'soft'>('normal')\r\n \r\n-const categories = ref<Category[]>([\r\n-  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n-  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n-  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n+const types = ref<BookType[]>([\r\n+  { id: 1, name: 'ນິທານ', description: 'ປະເພດປື້ມນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n+  { id: 2, name: 'ວິທະຍາສາດ', description: 'ປະເພດປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n+  { id: 3, name: 'ປະຫວັດສາດ', description: 'ປະເພດປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n ])\r\n \r\n-const softDeletedCategories = ref<Category[]>([\r\n-  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n+const softDeletedTypes = ref<BookType[]>([\r\n+  { id: 4, name: 'ໂຄງການລຶບ', description: 'ປະເພດຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n ])\r\n \r\n-const currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n+const currentTypes = computed(() => viewMode.value === 'normal' ? filteredTypes.value : filteredTypesSoft_delete.value)\r\n \r\n-function toggleSoftDelete() {\r\n-  // Just for view\r\n-}\r\n+function toggleSoftDelete() {}\r\n \r\n function openAddModal() {\r\n   isModalOpen.value = true\r\n }\r\n \r\n-function openEditModal(category: Category | null) {\r\n-  if (category) {\r\n-    selectedCategory.value = category\r\n+function openEditModal(type: BookType | null) {\r\n+  if (type) {\r\n+    selectedType.value = type\r\n     isEditModalOpen.value = true\r\n   }\r\n }\r\n \r\n-function saveCategory(newCategory: Category) {\r\n-  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n+function saveType(newType: BookType) {\r\n+  types.value.push({ ...newType, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n   isModalOpen.value = false\r\n }\r\n \r\n-function handleCategoryUpdate(updated: Category) {\r\n-  const index = categories.value.findIndex(c => c.id === updated.id)\r\n+function handleTypeUpdate(updated: BookType) {\r\n+  const index = types.value.findIndex(c => c.id === updated.id)\r\n   if (index !== -1) {\r\n-    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n+    types.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n   }\r\n-  isEditModalOpen.value = false\r\n+  isEditModal.value = false\r\n }\r\n \r\n-function deleteCategory() {\r\n-  if (selectedCategory.value) {\r\n-    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n+function deleteType() {\r\n+  if (selectedType.value) {\r\n+    const index = types.value.findIndex(c => c.id === selectedType.value!.id)\r\n     if (index !== -1) {\r\n-      const deleted = categories.value.splice(index, 1)[0]\r\n-      softDeletedCategories.value.push(deleted)\r\n+      const deleted = types.value.splice(index, 1)[0]\r\n+      softDeletedTypes.value.push(deleted)\r\n     }\r\n-    selectedCategory.value = null\r\n+    selectedType.value = null\r\n   }\r\n }\r\n \r\n-function selectCategory(category: Category) {\r\n-  selectedCategory.value = category\r\n+function selectType(type: BookType) {\r\n+  selectedType.value = type\r\n }\r\n \r\n-\r\n-const filteredCategories = computed(() =>\r\n-  categories.value.filter(category =>\r\n-    category.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+const filteredTypes = computed(() =>\r\n+  types.value.filter(type =>\r\n+    type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n-const filteredCategoriesSoft_delete = computed(() =>\r\n-  softDeletedCategories.value.filter(softDeletedCategories =>\r\n-    softDeletedCategories.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+const filteredTypesSoft_delete = computed(() =>\r\n+  softDeletedTypes.value.filter(type =>\r\n+    type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748015638975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n-import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n+import Add from '../components/modal_category/AddCategoryModal.vue'\r\n import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n"
                },
                {
                    "date": 1748015649565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n-import Add from '../components/modal_category/AddCategoryModal.vue'\r\n+import AddTypeModal from '../components/modal_category/AddTypeModal.vue'\r\n import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n"
                },
                {
                    "date": 1748015655993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n-import AddTypeModal from '../components/modal_category/AddTypeModal.vue'\r\n+import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n"
                },
                {
                    "date": 1748015664316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n-import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n+import EditCategoryModal from '../components/modal_type/EditTypeModal.vue'\r\n import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n"
                },
                {
                    "date": 1748015670436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n-import EditCategoryModal from '../components/modal_type/EditTypeModal.vue'\r\n+import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n import { Category as BookType } from '../entities/category.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n"
                },
                {
                    "date": 1748015676540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,9 +72,9 @@\n     </div>\r\n   </div>\r\n \r\n   <!-- Modals -->\r\n-  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n+  <AddTypeModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n   <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n     @update=\"handleTypeUpdate\" />\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1748015706457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,17 +73,17 @@\n   </div>\r\n \r\n   <!-- Modals -->\r\n   <AddTypeModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n-  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n+  <EditTypeModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n     @update=\"handleTypeUpdate\" />\r\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import { Category as BookType } from '../entities/category.entity'\r\n+import { Category as BookType } from '../entities/type.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n"
                },
                {
                    "date": 1748015717151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import { Category as BookType } from '../entities/type.entity'\r\n+import {  BookType } from '../entities/booktype.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n"
                },
                {
                    "date": 1748016377606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,12 +82,10 @@\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n import {  BookType } from '../entities/booktype.entity'\r\n-import { useI18n } from 'vue-i18n';\r\n+c\r\n \r\n-const { t } = useI18n();\r\n-\r\n const searchQuery = ref('');\r\n const isModalOpen = ref(false)\r\n const isEditModalOpen = ref(false)\r\n const selectedType = ref<BookType | null>(null)\r\n"
                },
                {
                    "date": 1748016538233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,10 +82,12 @@\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n import {  BookType } from '../entities/booktype.entity'\r\n-c\r\n+import { useI18n } from 'vue-i18n';\r\n \r\n+const { t } = useI18n();\r\n+\r\n const searchQuery = ref('');\r\n const isModalOpen = ref(false)\r\n const isEditModalOpen = ref(false)\r\n const selectedType = ref<BookType | null>(null)\r\n@@ -125,9 +127,9 @@\n   const index = types.value.findIndex(c => c.id === updated.id)\r\n   if (index !== -1) {\r\n     types.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n   }\r\n-  isEditModal.value = false\r\n+ isEditModalOpen.value = false\r\n }\r\n \r\n function deleteType() {\r\n   if (selectedType.value) {\r\n"
                },
                {
                    "date": 1748016570391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -146,14 +146,14 @@\n   selectedType.value = type\r\n }\r\n \r\n const filteredTypes = computed(() =>\r\n-  types.value.filter(type =>\r\n+  types.value.filter((type: BookType) =>\r\n     type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n const filteredTypesSoft_delete = computed(() =>\r\n-  softDeletedTypes.value.filter(type =>\r\n+  softDeletedTypes.value.filter((type: BookType) =>\r\n     type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748016597914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,9 +147,9 @@\n }\r\n \r\n const filteredTypes = computed(() =>\r\n   types.value.filter((type: BookType) =>\r\n-    type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    type?.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n const filteredTypesSoft_delete = computed(() =>\r\n   softDeletedTypes.value.filter((type: BookType) =>\r\n"
                },
                {
                    "date": 1748016615575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -152,8 +152,8 @@\n   )\r\n );\r\n const filteredTypesSoft_delete = computed(() =>\r\n   softDeletedTypes.value.filter((type: BookType) =>\r\n-    type.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    type?.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748016636140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,13 +147,13 @@\n }\r\n \r\n const filteredTypes = computed(() =>\r\n   types.value.filter((type: BookType) =>\r\n-    type?.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n const filteredTypesSoft_delete = computed(() =>\r\n   softDeletedTypes.value.filter((type: BookType) =>\r\n-    type?.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748017502532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import {  BookType } from '../entities/booktype.entity'\r\n+import {  BookType } from '../entities/bookType.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n"
                },
                {
                    "date": 1748017513125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import {  BookType } from '../entities/bookType.entity'\r\n+import {  BookType } from '../entities/booktype.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n"
                },
                {
                    "date": 1748018287759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n         <div >\r\n          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n            <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ປະເພດປື້ມທົ່ວໄປ</option>\r\n+             <option value=\"normal\">ປະເພດປື້ມ</option>\r\n              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n            </select>\r\n            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n@@ -81,9 +81,9 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import {  BookType } from '../entities/booktype.entity'\r\n+import {  BookType } from '../entities/bookType.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n"
                },
                {
                    "date": 1748018295703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n         <div >\r\n          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n            <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ປະເພດປື້ມ</option>\r\n+             <option value=\"normal\">ປະເພດປື້ມເອກະສານ</option>\r\n              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n            </select>\r\n            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n"
                },
                {
                    "date": 1748018425257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n               :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n-              <td class=\"py-2 px-4\">{{ type.id }}</td>\r\n+              <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n"
                },
                {
                    "date": 1748018431235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n               :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n-              <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n+              <td class=\"py-2 px-4 te\">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n"
                },
                {
                    "date": 1748018438129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,9 @@\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n               :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n-              <td class=\"py-2 px-4 te\">{{ type.id }}</td>\r\n+              <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n"
                },
                {
                    "date": 1748018444973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n+              :class=\"['border-b hover:bg-gray-50 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n"
                },
                {
                    "date": 1748018593074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b hover:bg-gray-50 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n+              :class=\"['border-b hover:bg-green-50 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n"
                },
                {
                    "date": 1748018608265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b hover:bg-green-50 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-yellow-100' : '']\">\r\n+              :class=\"['border-b hover:bg-green-500 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-100' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n"
                },
                {
                    "date": 1748018647405,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b hover:bg-green-500 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-100' : '']\">\r\n+              :class=\"['border-b hover:bg-g-500 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n"
                },
                {
                    "date": 1748018676309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b hover:bg-g-500 cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600' : '']\">\r\n+              :class=\"['border-b  cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n"
                },
                {
                    "date": 1748021376642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,35 +3,38 @@\n     <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n       <!-- Title and controls -->\r\n       <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n         <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n-          <i class=\"fa-solid fa-book\"></i> ຈັດການປະເພດປື້ມ\r\n+          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n         </h1>\r\n \r\n         <div >\r\n+\r\n+          \r\n          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n-           <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n+              \r\n+   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ປະເພດປື້ມເອກະສານ</option>\r\n+             <option value=\"normal\">ໝວກໝູ່ປື້ມເອກະສານ</option>\r\n              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n            </select>\r\n            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n                ກູ້ຄືນ\r\n              </button>\r\n \r\n              <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n-               @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n+               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n                ແກ້ໄຂ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n-               @click=\"deleteType\" :disabled=\"!selectedType\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n+               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n                ລຶບ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n-               ເພີ່ມປະເພດປື້ມ\r\n+               ເພີ່ມໝວກໝູ່\r\n              </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                         <select\r\n                             class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n@@ -57,103 +60,106 @@\n               <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b  cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600' : '']\">\r\n-              <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n-              <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n-              <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n-              <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n-              <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n+            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n+              :class=\"['border-b  cursor-pointer text-center', selectedCategory?.id === category.id ? 'bg-green-600' : '']\">\r\n+              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n+              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n+              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n+              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n+              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <!-- Modals -->\r\n-  <AddTypeModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n-  <EditTypeModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n-    @update=\"handleTypeUpdate\" />\r\n+  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n+  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n+    @update=\"handleCategoryUpdate\" />\r\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n-import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n-import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import {  BookType } from '../entities/bookType.entity'\r\n+import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n+import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n+import {BookType as Category} from '../entities/bookType.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n const searchQuery = ref('');\r\n const isModalOpen = ref(false)\r\n const isEditModalOpen = ref(false)\r\n-const selectedType = ref<BookType | null>(null)\r\n+const selectedCategory = ref<Category | null>(null)\r\n const viewMode = ref<'normal' | 'soft'>('normal')\r\n \r\n-const types = ref<BookType[]>([\r\n-  { id: 1, name: 'ນິທານ', description: 'ປະເພດປື້ມນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n-  { id: 2, name: 'ວິທະຍາສາດ', description: 'ປະເພດປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n-  { id: 3, name: 'ປະຫວັດສາດ', description: 'ປະເພດປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n+const categories = ref<Category[]>([\r\n+  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n+  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n+  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n ])\r\n \r\n-const softDeletedTypes = ref<BookType[]>([\r\n-  { id: 4, name: 'ໂຄງການລຶບ', description: 'ປະເພດຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n+const softDeletedCategories = ref<Category[]>([\r\n+  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n ])\r\n \r\n-const currentTypes = computed(() => viewMode.value === 'normal' ? filteredTypes.value : filteredTypesSoft_delete.value)\r\n+const currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n \r\n-function toggleSoftDelete() {}\r\n+function toggleSoftDelete() {\r\n+  // Just for view\r\n+}\r\n \r\n function openAddModal() {\r\n   isModalOpen.value = true\r\n }\r\n \r\n-function openEditModal(type: BookType | null) {\r\n-  if (type) {\r\n-    selectedType.value = type\r\n+function openEditModal(category: Category | null) {\r\n+  if (category) {\r\n+    selectedCategory.value = category\r\n     isEditModalOpen.value = true\r\n   }\r\n }\r\n \r\n-function saveType(newType: BookType) {\r\n-  types.value.push({ ...newType, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n+function saveCategory(newCategory: Category) {\r\n+  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n   isModalOpen.value = false\r\n }\r\n \r\n-function handleTypeUpdate(updated: BookType) {\r\n-  const index = types.value.findIndex(c => c.id === updated.id)\r\n+function handleCategoryUpdate(updated: Category) {\r\n+  const index = categories.value.findIndex(c => c.id === updated.id)\r\n   if (index !== -1) {\r\n-    types.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n+    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n   }\r\n- isEditModalOpen.value = false\r\n+  isEditModalOpen.value = false\r\n }\r\n \r\n-function deleteType() {\r\n-  if (selectedType.value) {\r\n-    const index = types.value.findIndex(c => c.id === selectedType.value!.id)\r\n+function deleteCategory() {\r\n+  if (selectedCategory.value) {\r\n+    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n     if (index !== -1) {\r\n-      const deleted = types.value.splice(index, 1)[0]\r\n-      softDeletedTypes.value.push(deleted)\r\n+      const deleted = categories.value.splice(index, 1)[0]\r\n+      softDeletedCategories.value.push(deleted)\r\n     }\r\n-    selectedType.value = null\r\n+    selectedCategory.value = null\r\n   }\r\n }\r\n \r\n-function selectType(type: BookType) {\r\n-  selectedType.value = type\r\n+function selectCategory(category: Category) {\r\n+  selectedCategory.value = category\r\n }\r\n \r\n-const filteredTypes = computed(() =>\r\n-  types.value.filter((type: BookType) =>\r\n-    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+\r\n+const filteredCategories = computed(() =>\r\n+  categories.value.filter(category =>\r\n+    category?.name?.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n-const filteredTypesSoft_delete = computed(() =>\r\n-  softDeletedTypes.value.filter((type: BookType) =>\r\n-    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+const filteredCategoriesSoft_delete = computed(() =>\r\n+  softDeletedCategories.value.filter(softDeletedCategories =>\r\n+    softDeletedCategories?.name?.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748063526284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,38 +3,35 @@\n     <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n       <!-- Title and controls -->\r\n       <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n         <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n-          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n+          <i class=\"fa-solid fa-book\"></i> ຈັດການປະເພດປື້ມ\r\n         </h1>\r\n \r\n         <div >\r\n-\r\n-          \r\n          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n-              \r\n-   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n+           <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ໝວກໝູ່ປື້ມເອກະສານ</option>\r\n+             <option value=\"normal\">ປະເພດປື້ມເອກະສານ</option>\r\n              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n            </select>\r\n            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n             <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n                ກູ້ຄືນ\r\n              </button>\r\n \r\n              <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n-               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n+               @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                ແກ້ໄຂ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n-               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n+               @click=\"deleteType\" :disabled=\"!selectedType\"\r\n+               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                ລຶບ\r\n              </button>\r\n              <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n-               ເພີ່ມໝວກໝູ່\r\n+               ເພີ່ມປະເພດປື້ມ\r\n              </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                         <select\r\n                             class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n@@ -60,106 +57,103 @@\n               <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n-            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n-              :class=\"['border-b  cursor-pointer text-center', selectedCategory?.id === category.id ? 'bg-green-600' : '']\">\r\n-              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n+            <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n+              :class=\"['border-b  cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600 ' : '']\">\r\n+              <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n+              <td class=\"py-2 px-4\">{{ type.updated_at }}</td>\r\n             </tr>\r\n           </tbody>\r\n         </table>\r\n       </div>\r\n     </div>\r\n   </div>\r\n \r\n   <!-- Modals -->\r\n-  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n-  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n-    @update=\"handleCategoryUpdate\" />\r\n+  <AddTypeModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveType\" />\r\n+  <EditTypeModal :show=\"isEditModalOpen\" :userData=\"selectedType\" @close=\"isEditModalOpen = false\"\r\n+    @update=\"handleTypeUpdate\" />\r\n </template>\r\n \r\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n-import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n-import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n-import {BookType as Category} from '../entities/bookType.entity'\r\n+import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n+import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n+import {  BookType } from '../entities/bookType.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n const searchQuery = ref('');\r\n const isModalOpen = ref(false)\r\n const isEditModalOpen = ref(false)\r\n-const selectedCategory = ref<Category | null>(null)\r\n+const selectedType = ref<BookType | null>(null)\r\n const viewMode = ref<'normal' | 'soft'>('normal')\r\n \r\n-const categories = ref<Category[]>([\r\n-  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n-  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n-  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n+const types = ref<BookType[]>([\r\n+  { id: 1, name: 'ນິທານ', description: 'ປະເພດປື້ມນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n+  { id: 2, name: 'ວິທະຍາສາດ', description: 'ປະເພດປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n+  { id: 3, name: 'ປະຫວັດສາດ', description: 'ປະເພດປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n ])\r\n \r\n-const softDeletedCategories = ref<Category[]>([\r\n-  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n+const softDeletedTypes = ref<BookType[]>([\r\n+  { id: 4, name: 'ໂຄງການລຶບ', description: 'ປະເພດຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n ])\r\n \r\n-const currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n+const currentTypes = computed(() => viewMode.value === 'normal' ? filteredTypes.value : filteredTypesSoft_delete.value)\r\n \r\n-function toggleSoftDelete() {\r\n-  // Just for view\r\n-}\r\n+function toggleSoftDelete() {}\r\n \r\n function openAddModal() {\r\n   isModalOpen.value = true\r\n }\r\n \r\n-function openEditModal(category: Category | null) {\r\n-  if (category) {\r\n-    selectedCategory.value = category\r\n+function openEditModal(type: BookType | null) {\r\n+  if (type) {\r\n+    selectedType.value = type\r\n     isEditModalOpen.value = true\r\n   }\r\n }\r\n \r\n-function saveCategory(newCategory: Category) {\r\n-  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n+function saveType(newType: BookType) {\r\n+  types.value.push({ ...newType, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n   isModalOpen.value = false\r\n }\r\n \r\n-function handleCategoryUpdate(updated: Category) {\r\n-  const index = categories.value.findIndex(c => c.id === updated.id)\r\n+function handleTypeUpdate(updated: BookType) {\r\n+  const index = types.value.findIndex(c => c.id === updated.id)\r\n   if (index !== -1) {\r\n-    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n+    types.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n   }\r\n-  isEditModalOpen.value = false\r\n+ isEditModalOpen.value = false\r\n }\r\n \r\n-function deleteCategory() {\r\n-  if (selectedCategory.value) {\r\n-    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n+function deleteType() {\r\n+  if (selectedType.value) {\r\n+    const index = types.value.findIndex(c => c.id === selectedType.value!.id)\r\n     if (index !== -1) {\r\n-      const deleted = categories.value.splice(index, 1)[0]\r\n-      softDeletedCategories.value.push(deleted)\r\n+      const deleted = types.value.splice(index, 1)[0]\r\n+      softDeletedTypes.value.push(deleted)\r\n     }\r\n-    selectedCategory.value = null\r\n+    selectedType.value = null\r\n   }\r\n }\r\n \r\n-function selectCategory(category: Category) {\r\n-  selectedCategory.value = category\r\n+function selectType(type: BookType) {\r\n+  selectedType.value = type\r\n }\r\n \r\n-\r\n-const filteredCategories = computed(() =>\r\n-  categories.value.filter(category =>\r\n-    category?.name?.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+const filteredTypes = computed(() =>\r\n+  types.value.filter((type: BookType) =>\r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n-const filteredCategoriesSoft_delete = computed(() =>\r\n-  softDeletedCategories.value.filter(softDeletedCategories =>\r\n-    softDeletedCategories?.name?.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+const filteredTypesSoft_delete = computed(() =>\r\n+  softDeletedTypes.value.filter((type: BookType) =>\r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748063696735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,43 +6,47 @@\n         <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n           <i class=\"fa-solid fa-book\"></i> ຈັດການປະເພດປື້ມ\r\n         </h1>\r\n \r\n-        <div >\r\n-         <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n-           <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n-             <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ປະເພດປື້ມເອກະສານ</option>\r\n-             <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n-           </select>\r\n-           <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n-            <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n-               ກູ້ຄືນ\r\n-             </button>\r\n+        <div>\r\n+          <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n+            <select v-model=\"viewMode\" @change=\"toggleSoftDelete\"\r\n+              class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n+              <option value=\"\" disabled>-- ເລືອກ --</option>\r\n+              <option value=\"normal\">ປະເພດປື້ມເອກະສານ</option>\r\n+              <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n+            </select>\r\n+            <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n+              <button v-if=\"viewMode === 'soft'\"\r\n+                class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\">\r\n+                ກູ້ຄືນ\r\n+              </button>\r\n \r\n-             <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n-               @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n-               ແກ້ໄຂ\r\n-             </button>\r\n-             <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n-               @click=\"deleteType\" :disabled=\"!selectedType\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n-               ລຶບ\r\n-             </button>\r\n-             <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n-               ເພີ່ມປະເພດປື້ມ\r\n-             </button>\r\n+              <button v-if=\"viewMode === 'normal'\"\r\n+                class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n+                @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n+                :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n+                ແກ້ໄຂ\r\n+              </button>\r\n+              <button v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n+                @click=\"deleteType\" :disabled=\"!selectedType\"\r\n+                :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n+                ລຶບ\r\n+              </button>\r\n+              <button v-if=\"viewMode === 'normal'\"\r\n+                class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n+                ເພີ່ມປະເພດປື້ມ\r\n+              </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n-                        <select\r\n-                            class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n-                            <option value=\"all\">{{ t('navbar.all') }}</option>\r\n-                        </select>\r\n-                        <input type=\"text\" :placeholder=\"t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n-                            class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n-                    </div>\r\n-           </div>\r\n-         </div>\r\n+                <select\r\n+                  class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n+                  <option value=\"all\">{{ t('navbar.all') }}</option>\r\n+                </select>\r\n+                <input type=\"text\" :placeholder=\"t('navbar.search') + '..........'\" v-model=\"searchQuery\"\r\n+                  class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n         </div>\r\n       </div>\r\n \r\n       <!-- Table -->\r\n@@ -58,9 +62,9 @@\n             </tr>\r\n           </thead>\r\n           <tbody>\r\n             <tr v-for=\"type in currentTypes\" :key=\"type.id\" @click=\"selectType(type)\"\r\n-              :class=\"['border-b  cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600 ' : '']\">\r\n+              :class=\"['border-b  cursor-pointer text-center', selectedType?.id === type.id ? 'bg-green-600 text-white' : '']\">\r\n               <td class=\"py-2 px-4 \">{{ type.id }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.name }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.description }}</td>\r\n               <td class=\"py-2 px-4\">{{ type.created_at }}</td>\r\n@@ -81,9 +85,9 @@\n <script setup lang=\"ts\">\r\n import { ref, computed } from 'vue'\r\n import AddTypeModal from '../components/modal_type/AddTypeModal.vue'\r\n import EditTypeModal from '../components/modal_type/EditTypeModal.vue'\r\n-import {  BookType } from '../entities/bookType.entity'\r\n+import { BookType } from '../entities/bookType.entity'\r\n import { useI18n } from 'vue-i18n';\r\n \r\n const { t } = useI18n();\r\n \r\n@@ -104,9 +108,9 @@\n ])\r\n \r\n const currentTypes = computed(() => viewMode.value === 'normal' ? filteredTypes.value : filteredTypesSoft_delete.value)\r\n \r\n-function toggleSoftDelete() {}\r\n+function toggleSoftDelete() { }\r\n \r\n function openAddModal() {\r\n   isModalOpen.value = true\r\n }\r\n@@ -127,9 +131,9 @@\n   const index = types.value.findIndex(c => c.id === updated.id)\r\n   if (index !== -1) {\r\n     types.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n   }\r\n- isEditModalOpen.value = false\r\n+  isEditModalOpen.value = false\r\n }\r\n \r\n function deleteType() {\r\n   if (selectedType.value) {\r\n@@ -147,13 +151,13 @@\n }\r\n \r\n const filteredTypes = computed(() =>\r\n   types.value.filter((type: BookType) =>\r\n-    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase())\r\n   )\r\n );\r\n const filteredTypesSoft_delete = computed(() =>\r\n   softDeletedTypes.value.filter((type: BookType) =>\r\n-    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n+    (type.name ?? '').toLowerCase().includes(searchQuery.value.toLowerCase())\r\n   )\r\n );\r\n </script>\r\n"
                },
                {
                    "date": 1748063814054,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n                 @click=\"openEditModal(selectedType)\" :disabled=\"!selectedType\"\r\n                 :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                 ແກ້ໄຂ\r\n               </button>\r\n-              <button v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n+              <button  class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n                 @click=\"deleteType\" :disabled=\"!selectedType\"\r\n                 :class=\"{ 'opacity-50 cursor-not-allowed': !selectedType }\">\r\n                 ລຶບ\r\n               </button>\r\n"
                },
                {
                    "date": 1748069059813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,12 +36,11 @@\n                 class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n                 ເພີ່ມປະເພດປື້ມ\r\n               </button>\r\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n-                <select\r\n-                  class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n-                  <option value=\"all\">{{ t('navbar.all') }}</option>\r\n-                </select>\r\n+                 <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n+                  <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n+                </div>\r\n                 <input type=\"text\" :placeholder=\"t('navbar.search') + '..........'\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n"
                },
                {
                    "date": 1748069157486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n-                <input type=\"text\" :placeholder=\"t('navbar.search') + '..........'\" v-model=\"searchQuery\"\r\n+                <input type=\"text\" placeholder=\"t('navbar.search') + '..........'\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1748069162576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n-                <input type=\"text\" placeholder=\"t('navbar.search') + '..........'\" v-model=\"searchQuery\"\r\n+                <input type=\"text\" placeholder=\"..........'\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1748069176640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n-                <input type=\"text\" placeholder=\"..........'\" v-model=\"searchQuery\"\r\n+                <input type=\"text\" placeholder=\"ຄົ້ນ..........\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1748069183425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n-                <input type=\"text\" placeholder=\"ຄົ້ນ..........\" v-model=\"searchQuery\"\r\n+                <input type=\"text\" placeholder=\"ຄົ້ນຫາ ຊື່ປະເພດ..........\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1748069190135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n               <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n-                <input type=\"text\" placeholder=\"ຄົ້ນຫາ ຊື່ປະເພດ..........\" v-model=\"searchQuery\"\r\n+                <input type=\"text\" placeholder=\"ຄົ້ນຫາຕາມຊື່ປະເພດ..........\" v-model=\"searchQuery\"\r\n                   class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n"
                },
                {
                    "date": 1748069415546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n                  <div class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                   <i class=\"fa-solid fa-magnifying-glass\"></i>\r\n                 </div>\r\n                 <input type=\"text\" placeholder=\"ຄົ້ນຫາຕາມຊື່ປະເພດ..........\" v-model=\"searchQuery\"\r\n-                  class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n+                  class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 pr-3 rounded-r sm:rounded-r\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n"
                }
            ],
            "date": 1748001325088,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"p-5 bg-pink-50 mb-5\">\r\n    <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n      <!-- Title and controls -->\r\n      <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n        <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n        </h1>\r\n\r\n        <div >\r\n\r\n          \r\n         <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n              \r\n   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n             <option value=\"\" disabled>-- ເລືອກ --</option>\r\n             <option value=\"normal\">ໝວກປື້ມທົ່ວໄປ</option>\r\n             <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n           </select>\r\n           <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n            <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n               ກູ້ຄືນ\r\n             </button>\r\n\r\n             <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n               ແກ້ໄຂ\r\n             </button>\r\n             <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n               ລຶບ\r\n             </button>\r\n             <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n               ເພີ່ມໝວກໝູ່\r\n             </button>\r\n              <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                        <select\r\n                            class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                            <option value=\"all\">{{ $t('navbar.all') }}</option>\r\n                        </select>\r\n                        <input type=\"text\" :placeholder=\"$t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n                            class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n                    </div>\r\n           </div>\r\n         </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Table -->\r\n      <div class=\"overflow-x-auto\">\r\n        <table class=\"min-w-full bg-white shadow-md rounded-lg text-sm md:text-base\">\r\n          <thead class=\"bg-gray-100\">\r\n            <tr>\r\n              <th class=\"py-3 px-4\">#</th>\r\n              <th class=\"py-3 px-4\">ຊື່ປະເພດ</th>\r\n              <th class=\"py-3 px-4\">ລາຍລະອຽດ</th>\r\n              <th class=\"py-3 px-4\">ໄດ້ສ້າງໃນວັນທີ</th>\r\n              <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedCategory?.id === category.id ? 'bg-yellow-100' : '']\">\r\n              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modals -->\r\n  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n    @update=\"handleCategoryUpdate\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\nimport EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n\r\ninterface Category {\r\n  id: number\r\n  name: string\r\n  description: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\nconst searchQuery = ref('');\r\nconst isModalOpen = ref(false)\r\nconst isEditModalOpen = ref(false)\r\nconst selectedCategory = ref<Category | null>(null)\r\nconst viewMode = ref<'normal' | 'soft'>('normal')\r\n\r\nconst categories = ref<Category[]>([\r\n  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n])\r\n\r\nconst softDeletedCategories = ref<Category[]>([\r\n  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n])\r\n\r\nconst currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n\r\nfunction toggleSoftDelete() {\r\n  // Just for view\r\n}\r\n\r\nfunction openAddModal() {\r\n  isModalOpen.value = true\r\n}\r\n\r\nfunction openEditModal(category: Category | null) {\r\n  if (category) {\r\n    selectedCategory.value = category\r\n    isEditModalOpen.value = true\r\n  }\r\n}\r\n\r\nfunction saveCategory(newCategory: Category) {\r\n  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n  isModalOpen.value = false\r\n}\r\n\r\nfunction handleCategoryUpdate(updated: Category) {\r\n  const index = categories.value.findIndex(c => c.id === updated.id)\r\n  if (index !== -1) {\r\n    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n  }\r\n  isEditModalOpen.value = false\r\n}\r\n\r\nfunction deleteCategory() {\r\n  if (selectedCategory.value) {\r\n    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n    if (index !== -1) {\r\n      const deleted = categories.value.splice(index, 1)[0]\r\n      softDeletedCategories.value.push(deleted)\r\n    }\r\n    selectedCategory.value = null\r\n  }\r\n}\r\n\r\nfunction selectCategory(category: Category) {\r\n  selectedCategory.value = category\r\n}\r\n\r\n\r\nconst filteredCategories = computed(() =>\r\n  categories.value.filter(category =>\r\n    category.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n  )\r\n);\r\nconst filteredCategoriesSoft_delete = computed(() =>\r\n  softDeletedCategories.value.filter(softDeletedCategories =>\r\n    softDeletedCategories.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n  )\r\n);\r\n</script>\r\n"
        }
    ]
}