{
    "sourceFile": "src/modules/admin/book/entities/category.entity.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1748001466151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748001593147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,168 +1,7 @@\n-<template>\r\n-  <div class=\"p-5 bg-pink-50 mb-5\">\r\n-    <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n-      <!-- Title and controls -->\r\n-      <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n-        <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n-          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n-        </h1>\r\n-\r\n-        <div >\r\n-\r\n-          \r\n-         <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n-              \r\n-   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n-             <option value=\"\" disabled>-- ເລືອກ --</option>\r\n-             <option value=\"normal\">ໝວກປື້ມທົ່ວໄປ</option>\r\n-             <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n-           </select>\r\n-           <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n-            <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n-               ກູ້ຄືນ\r\n-             </button>\r\n-\r\n-             <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n-               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n-               ແກ້ໄຂ\r\n-             </button>\r\n-             <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n-               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n-               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n-               ລຶບ\r\n-             </button>\r\n-             <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n-               ເພີ່ມໝວກໝູ່\r\n-             </button>\r\n-              <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n-                        <select\r\n-                            class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n-                            <option value=\"all\">{{ $t('navbar.all') }}</option>\r\n-                        </select>\r\n-                        <input type=\"text\" :placeholder=\"$t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n-                            class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n-                    </div>\r\n-           </div>\r\n-         </div>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <!-- Table -->\r\n-      <div class=\"overflow-x-auto\">\r\n-        <table class=\"min-w-full bg-white shadow-md rounded-lg text-sm md:text-base\">\r\n-          <thead class=\"bg-gray-100\">\r\n-            <tr>\r\n-              <th class=\"py-3 px-4\">#</th>\r\n-              <th class=\"py-3 px-4\">ຊື່ປະເພດ</th>\r\n-              <th class=\"py-3 px-4\">ລາຍລະອຽດ</th>\r\n-              <th class=\"py-3 px-4\">ໄດ້ສ້າງໃນວັນທີ</th>\r\n-              <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody>\r\n-            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n-              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedCategory?.id === category.id ? 'bg-yellow-100' : '']\">\r\n-              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n-              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n-            </tr>\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-    </div>\r\n-  </div>\r\n-\r\n-  <!-- Modals -->\r\n-  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n-  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n-    @update=\"handleCategoryUpdate\" />\r\n-</template>\r\n-\r\n-<script setup lang=\"ts\">\r\n-import { ref, computed } from 'vue'\r\n-import AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\n-import EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n-\r\n interface Category {\r\n   id: number\r\n   name: string\r\n   description: string\r\n   created_at: string\r\n   updated_at: string\r\n-}\r\n-const searchQuery = ref('');\r\n-const isModalOpen = ref(false)\r\n-const isEditModalOpen = ref(false)\r\n-const selectedCategory = ref<Category | null>(null)\r\n-const viewMode = ref<'normal' | 'soft'>('normal')\r\n-\r\n-const categories = ref<Category[]>([\r\n-  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n-  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n-  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n-])\r\n-\r\n-const softDeletedCategories = ref<Category[]>([\r\n-  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n-])\r\n-\r\n-const currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n-\r\n-function toggleSoftDelete() {\r\n-  // Just for view\r\n-}\r\n-\r\n-function openAddModal() {\r\n-  isModalOpen.value = true\r\n-}\r\n-\r\n-function openEditModal(category: Category | null) {\r\n-  if (category) {\r\n-    selectedCategory.value = category\r\n-    isEditModalOpen.value = true\r\n-  }\r\n-}\r\n-\r\n-function saveCategory(newCategory: Category) {\r\n-  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n-  isModalOpen.value = false\r\n-}\r\n-\r\n-function handleCategoryUpdate(updated: Category) {\r\n-  const index = categories.value.findIndex(c => c.id === updated.id)\r\n-  if (index !== -1) {\r\n-    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n-  }\r\n-  isEditModalOpen.value = false\r\n-}\r\n-\r\n-function deleteCategory() {\r\n-  if (selectedCategory.value) {\r\n-    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n-    if (index !== -1) {\r\n-      const deleted = categories.value.splice(index, 1)[0]\r\n-      softDeletedCategories.value.push(deleted)\r\n-    }\r\n-    selectedCategory.value = null\r\n-  }\r\n-}\r\n-\r\n-function selectCategory(category: Category) {\r\n-  selectedCategory.value = category\r\n-}\r\n-\r\n-\r\n-const filteredCategories = computed(() =>\r\n-  categories.value.filter(category =>\r\n-    category.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n-  )\r\n-);\r\n-const filteredCategoriesSoft_delete = computed(() =>\r\n-  softDeletedCategories.value.filter(softDeletedCategories =>\r\n-    softDeletedCategories.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n-  )\r\n-);\r\n-</script>\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1748013580607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-interface Category {\r\n+exinterface Category {\r\n   id: number\r\n   name: string\r\n   description: string\r\n   created_at: string\r\n"
                },
                {
                    "date": 1748013587168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-exinterface Category {\r\n+export interface Category {\r\n   id: number\r\n   name: string\r\n   description: string\r\n   created_at: string\r\n"
                }
            ],
            "date": 1748001466151,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"p-5 bg-pink-50 mb-5\">\r\n    <div class=\"p-6 bg-white shadow-md rounded-lg\">\r\n      <!-- Title and controls -->\r\n      <div class=\"flex  sm:flex-row sm:justify-between sm:items-center gap-4 mb-4\">\r\n        <h1 class=\"text-2xl sm:text-3xl font-bold text-gray-500\">\r\n          <i class=\"fa-solid fa-book\"></i> ຈັດການໝວກໝູ່ປື້ມ\r\n        </h1>\r\n\r\n        <div >\r\n\r\n          \r\n         <div class=\"flex sm:flex-row gap-2 sm:gap-4\">\r\n              \r\n   <select v-model=\"viewMode\" @change=\"toggleSoftDelete\" class=\"block w-full rounded border border-gray-300 px-3 py-3 shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500\">\r\n             <option value=\"\" disabled>-- ເລືອກ --</option>\r\n             <option value=\"normal\">ໝວກປື້ມທົ່ວໄປ</option>\r\n             <option value=\"soft\">ລາຍການທີ່ຖືກລຶບ</option>\r\n           </select>\r\n           <div class=\"py-2 px-4 whitespace-nowrap flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n            <button v-if=\"viewMode === 'soft'\"  class=\"bg-green-600 text-white px-4 py-1 rounded w-20 hover:bg-green-700\"     >\r\n               ກູ້ຄືນ\r\n             </button>\r\n\r\n             <button v-if=\"viewMode === 'normal'\"  class=\"bg-yellow-500 text-white px-4 py-1 w-20 rounded hover:bg-yellow-700\"\r\n               @click=\"openEditModal(selectedCategory)\" :disabled=\"!selectedCategory\"\r\n               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n               ແກ້ໄຂ\r\n             </button>\r\n             <button  v-if=\"viewMode === 'normal'\" class=\"bg-red-500 text-white px-4 py-1 w-20 rounded hover:bg-red-700\"\r\n               @click=\"deleteCategory\" :disabled=\"!selectedCategory\"\r\n               :class=\"{ 'opacity-50 cursor-not-allowed': !selectedCategory }\">\r\n               ລຶບ\r\n             </button>\r\n             <button  v-if=\"viewMode === 'normal'\" class=\"bg-green-600 text-white px-4 py-1 rounded w-30 hover:bg-green-700\" @click=\"openAddModal\">\r\n               ເພີ່ມໝວກໝູ່\r\n             </button>\r\n              <div class=\"flex flex-col sm:flex-row items-stretch sm:items-center \">\r\n                        <select\r\n                            class=\"bg-green-600 shadow-md text-white px-2 py-1 h-9 focus:outline-none cursor-pointer rounded-l sm:rounded-l\">\r\n                            <option value=\"all\">{{ $t('navbar.all') }}</option>\r\n                        </select>\r\n                        <input type=\"text\" :placeholder=\"$t('navbar.search') + '..........'\"  v-model=\"searchQuery\"\r\n                            class=\"focus:outline-none text-black shadow-md h-9 py-1 pl-3 rounded-r sm:rounded-r\" />\r\n                    </div>\r\n           </div>\r\n         </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Table -->\r\n      <div class=\"overflow-x-auto\">\r\n        <table class=\"min-w-full bg-white shadow-md rounded-lg text-sm md:text-base\">\r\n          <thead class=\"bg-gray-100\">\r\n            <tr>\r\n              <th class=\"py-3 px-4\">#</th>\r\n              <th class=\"py-3 px-4\">ຊື່ປະເພດ</th>\r\n              <th class=\"py-3 px-4\">ລາຍລະອຽດ</th>\r\n              <th class=\"py-3 px-4\">ໄດ້ສ້າງໃນວັນທີ</th>\r\n              <th class=\"py-3 px-4\">ໄດ້ອັບເດດວັນທີ</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"category in currentCategories\" :key=\"category.id\" @click=\"selectCategory(category)\"\r\n              :class=\"['border-b hover:bg-gray-50 cursor-pointer', selectedCategory?.id === category.id ? 'bg-yellow-100' : '']\">\r\n              <td class=\"py-2 px-4\">{{ category.id }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.name }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.description }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.created_at }}</td>\r\n              <td class=\"py-2 px-4\">{{ category.updated_at }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Modals -->\r\n  <AddCategoryModal :show=\"isModalOpen\" @close=\"isModalOpen = false\" @save=\"saveCategory\" />\r\n  <EditCategoryModal :show=\"isEditModalOpen\" :userData=\"selectedCategory\" @close=\"isEditModalOpen = false\"\r\n    @update=\"handleCategoryUpdate\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport AddCategoryModal from '../components/modal_category/AddCategoryModal.vue'\r\nimport EditCategoryModal from '../components/modal_category/EditCategoryModal.vue'\r\n\r\ninterface Category {\r\n  id: number\r\n  name: string\r\n  description: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\nconst searchQuery = ref('');\r\nconst isModalOpen = ref(false)\r\nconst isEditModalOpen = ref(false)\r\nconst selectedCategory = ref<Category | null>(null)\r\nconst viewMode = ref<'normal' | 'soft'>('normal')\r\n\r\nconst categories = ref<Category[]>([\r\n  { id: 1, name: 'ນິທານ', description: 'ໝວກປື້ມກ່ຽວກັບນິທານ', created_at: '2024-01-01', updated_at: '2024-02-01' },\r\n  { id: 2, name: 'ວິທະຍາສາດ', description: 'ໝວກປື້ມວິທະຍາສາດ', created_at: '2024-01-15', updated_at: '2024-02-05' },\r\n  { id: 3, name: 'ປະຫວັດສາດ', description: 'ໝວກປື້ມປະຫວັດສາດ', created_at: '2024-01-20', updated_at: '2024-02-10' }\r\n])\r\n\r\nconst softDeletedCategories = ref<Category[]>([\r\n  { id: 4, name: 'ໂຄງການລຶບ', description: 'ໝວກຖືກລຶບ', created_at: '2023-01-01', updated_at: '2023-06-01' }\r\n])\r\n\r\nconst currentCategories = computed(() => viewMode.value === 'normal' ? filteredCategories.value : filteredCategoriesSoft_delete.value)\r\n\r\nfunction toggleSoftDelete() {\r\n  // Just for view\r\n}\r\n\r\nfunction openAddModal() {\r\n  isModalOpen.value = true\r\n}\r\n\r\nfunction openEditModal(category: Category | null) {\r\n  if (category) {\r\n    selectedCategory.value = category\r\n    isEditModalOpen.value = true\r\n  }\r\n}\r\n\r\nfunction saveCategory(newCategory: Category) {\r\n  categories.value.push({ ...newCategory, id: Date.now(), created_at: new Date().toISOString(), updated_at: new Date().toISOString() })\r\n  isModalOpen.value = false\r\n}\r\n\r\nfunction handleCategoryUpdate(updated: Category) {\r\n  const index = categories.value.findIndex(c => c.id === updated.id)\r\n  if (index !== -1) {\r\n    categories.value[index] = { ...updated, updated_at: new Date().toISOString() }\r\n  }\r\n  isEditModalOpen.value = false\r\n}\r\n\r\nfunction deleteCategory() {\r\n  if (selectedCategory.value) {\r\n    const index = categories.value.findIndex(c => c.id === selectedCategory.value!.id)\r\n    if (index !== -1) {\r\n      const deleted = categories.value.splice(index, 1)[0]\r\n      softDeletedCategories.value.push(deleted)\r\n    }\r\n    selectedCategory.value = null\r\n  }\r\n}\r\n\r\nfunction selectCategory(category: Category) {\r\n  selectedCategory.value = category\r\n}\r\n\r\n\r\nconst filteredCategories = computed(() =>\r\n  categories.value.filter(category =>\r\n    category.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n  )\r\n);\r\nconst filteredCategoriesSoft_delete = computed(() =>\r\n  softDeletedCategories.value.filter(softDeletedCategories =>\r\n    softDeletedCategories.name.toLowerCase().includes(searchQuery.value.toLowerCase()) \r\n  )\r\n);\r\n</script>\r\n"
        }
    ]
}